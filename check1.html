<html>

<head>
    <title>functionlast</title>
</head>

<body>

    <center>

        <h1 style="color: cadetblue;">contact Form</h1>
        <div style="background-color:cadetblue; color:black;">
            <fieldset>
                <legend style="background-color: blanchedalmond;">Information inputs</legend>
                <label for="fname">FIRST NAME:</label><br>
                <input type="text" id="fname" style="width: 15%;"><br>

                <label for="lname">LAST NAME:</label><br>
                <input type="text" id="lname" style="width: 15%;"><br>

                <label for="gender">GENDER:</label><br>
                <input type="text" id="gender" style="width: 15%;"><br>

                <label for="age">AGE:</label><br>
                <input type="number" id="age" min="1" max="100" style="width: 15%;"><br>

                <label for="course">COURSE:</label><br>
                <input type="text" id="course" style="width: 15%;"><br><br>

                <button id="save" onclick="saving()" style="width: 5%;">save</button><br><br>

                <button id="log" onclick="loging()" style="width: 5%;">log data</button><br>

            </fieldset><br>
            <fieldset>
                <legend style="background-color: blanchedalmond;">Editing inputs</legend>

                <label>Delete:</label><br>
                <input type="number" id="ndel" style="width: 15%;"><br>
                <button id="del" onclick="deleting()" style="width: 10%;"> confirm-delete</button><br>

                <label>Edit:</label><br>
                <input type="number" id="nedit" style="width: 15%;"><br>
                <button id="edit" onclick="editing()" style="width: 10%;"> Edit</button><br>
            </fieldset>
        </div>
    </center>


    <script>
        var array = [
            {
                "firstname": "Gowtham",
                "lastname": "Raj",
                "gender": "Male",
                "age": "26",
                "course": "CSE"
            },
            {
                "firstname": "Sanjay",
                "lastname": "Kumar",
                "gender": "Male",
                "age": "22",
                "course": "EEE"
            },
            {
                "firstname": "Vignesh",
                "lastname": "Raj",
                "gender": "Male",
                "age": "22",
                "course": "IT"
            }
        ];
        var firstname;
        var lastname;
        var gender;
        var age;
        var course;
        var i;
        var obj = {};
        var id = 0;

        function saving() {
            if (document.getElementById("nedit").value) {
                array[i].firstname = document.getElementById("fname").value
                array[i].lastname = document.getElementById("lname").value
                array[i].gender = document.getElementById("gender").value
                array[i].age = document.getElementById("age").value
                array[i].course = document.getElementById("course").value

                console.log(array)

                document.getElementById("nedit").value = null;
                document.getElementById("fname").value = null;
                document.getElementById("lname").value = null;
                document.getElementById("gender").value = null;
                document.getElementById("age").value = null;
                document.getElementById("course").value = null;
            }
            else {
                if (!document.getElementById("fname").value) {
                    alert("Enter the first name");
                    document.getElementById("fname").focus();
                }
                if (!document.getElementById("lname").value) {
                    alert("Enter the last name");
                    document.getElementById("lname").focus();
                }
                if (!document.getElementById("gender").value) {
                    alert("Enter the Gender");
                    document.getElementById("gender").focus();
                }
                if (!document.getElementById("age").value) {
                    alert("Enter the Age");
                    document.getElementById("age").focus();
                }
                if (!document.getElementById("course").value) {
                    alert("Enter the course");
                    document.getElementById("course").focus();
                }


                firstname = document.getElementById("fname").value;
                lastname = document.getElementById("lname").value;
                gender = document.getElementById("gender").value;
                age = document.getElementById("age").value;
                course = document.getElementById("course").value;


                obj = { firstname, lastname, gender, age, course };

                var isValidData = true;

                for (var j = 0; j < array.length; j++) {
                    isValidData = false;
                    if (firstname !== array[j].firstname) {
                        isValidData = true;
                    }
                    if (lastname !== array[j].lastname) {
                        isValidData = true;
                    }
                    if (gender !== array[j].gender) {
                        isValidData = true;
                    }
                    if (age !== array[j].age) {
                        isValidData = true;
                    }
                    if (course !== array[j].course) {
                        isValidData = true;
                    }
                    if (!isValidData) {
                        alert("no valid data")
                        break;

                    }
                }
                isValidData ? array.push(obj): null;
                
                console.log(array)
                // clearing values for next save 
                document.getElementById("fname").value = null;
                document.getElementById("lname").value = null;
                document.getElementById("gender").value = null;
                document.getElementById("age").value = null;
                document.getElementById("course").value = null;
            }
        };
        function loging() {
            if (array[0]) {
                console.log(array)
            }
            else {
                alert("Haven't Entered any data")
            }
        }
        function deleting() {
            if (document.getElementById("ndel").value && array[(document.getElementById("ndel").value - 1)]) {
                array.splice((document.getElementById("ndel").value - 1), 1)
                console.log(array);
                document.getElementById("ndel").value = null;
            }
            else {
                alert("Enter the Data first")
            }
        }
        function editing() {
            if (document.getElementById("nedit").value && (document.getElementById("nedit").value) - 1) {
                i = (document.getElementById("nedit").value) - 1
                document.getElementById("fname").value = array[i].firstname;
                document.getElementById("lname").value = array[i].lastname;
                document.getElementById("gender").value = array[i].gender;
                document.getElementById("age").value = array[i].age;
                document.getElementById("course").value = array[i].course;
            }
            else {
                alert("Enter the Data")
            }
        }
    </script>
</body>

</html>